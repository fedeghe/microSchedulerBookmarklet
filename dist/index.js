parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"yU5q":[function(require,module,exports) {
"use strict";const t=function(t,n,i){function e(t,n){this.fn=t,this.interval=n,this.int=0,this.counter=0,this.initDate=+new Date,this.active=!1,this.paused=!1,this._onErr=null,this._onEnd=null,this._onPause=null,this._onResume=null,this._pause=null,this._resume=null}var s=function(t){return"function"==typeof t};return e.prototype.onEnd=function(t){return s(t)&&(this._onEnd=t),this},e.prototype.onErr=function(t){return s(t)&&(this._onErr=t),this},e.prototype.onPause=function(t){return s(t)&&(this._onPause=t),this},e.prototype.onResume=function(t){return s(t)&&(this._onResume=t),this},e.prototype.end=function(){return this.active=!1,this._onEnd&&this._onEnd(this),this},e.prototype.endsIn=function(t){var n=this;return setTimeout(function(){n.end()},t),this},e.prototype.pause=function(){return this.paused=!0,this._onPause&&this._onPause(this),this},e.prototype.resume=function(){return this.paused=!1,this._onResume&&this._onResume(this),this},e.prototype.runIfActive=function(){return this.active&&this.run(),this},e.prototype.run=function(t){this.active=!0;var n=this;return this.int=this.interval+(this.initDate+this.counter++*this.interval-new Date),t&&t(n),setTimeout(function(){if(!n.paused&&n.active)try{n.fn(n.counter-1)}catch(t){n._onErr&&n._onErr(t,n),n.active=!1}n.runIfActive()},n.int),this},function(t,n){return new e(t,n)}}();"object"==typeof exports&&(module.exports=t);
},{}],"R8tU":[function(require,module,exports) {
"use strict";const t=require("@fedeghe/interval"),i=function(){function i(t,i){this.fn=t,this.horizont=i,this.baseHorizont=i,this.to=null,this.active=!1,this.paused=!1,this._onErr=null,this._onEnd=null,this._onTick=null,this.tick=null,this.ticker=null,this.startPause=0,this.pauseSpan=0,this.updates=0,this._onUpdate=null,this._update=null,this._onPause=null,this._pause=null,this._onResume=null,this._resume=null}var e=function(t){return"function"==typeof t};return i.prototype.end=function(){return this.active=!1,this._onEnd&&this._onEnd(),this.ticker&&this.ticker.end(),clearTimeout(this.to),this},i.prototype.onEnd=function(t){return e(t)&&(this._onEnd=t),this},i.prototype.onErr=function(t){return e(t)&&(this._onErr=t),this},i.prototype.onPause=function(t){return e(t)&&(this._onPause=t),this},i.prototype.onResume=function(t){return e(t)&&(this._onResume=t),this},i.prototype.onUpdate=function(t){return e(t)&&(this._onUpdate=t),this},i.prototype.pause=function(){return this.paused=!0,this._onPause&&this._onPause(this),this.to&&clearTimeout(this.to),this.startPause=+new Date,this.ticker&&this.ticker.pause(),this},i.prototype.resume=function(){return this.paused=!1,this._onResume&&this._onResume(this),this.pauseSpan=+new Date-this.startPause,this.horizont-=this.pauseSpan,this.run(!1,!0),this.ticker&&this.ticker.resume(),this},i.prototype.getStatus=function(){var t=+new Date-this.startTime-this.pauseSpan;return{elapsed:t,remaining:this.horizont-t+this.updates,progress:100*t/this.horizont}},i.prototype.run=function(t,i){var e=this;return this.startTime=this.startTime||+new Date,this.active=!0,t&&t(e),this.to=setTimeout(function(){try{e.fn(),e.end(),e.ticker&&e.ticker.end()}catch(t){e._onErr&&e._onErr(t,e),e.active=!1}},this.horizont),!i&&this.ticker&&this.ticker.run(),this},i.prototype.update=function(t){var i=parseInt(t);this.updates=i;var e=+new Date-this.startTime-this.pauseSpan,s=i+(this.baseHorizont-e);return this.baseHorizont=e+s,s&&s>0&&(this._onUpdate&&this._onUpdate(this),this.horizont=s,this.to&&clearTimeout(this.to),this.run()),this},i.prototype.onTick=function(i,e){var s=this;return this.ticker=t(function(t){var e=+new Date-s.startTime-s.pauseSpan,n=s.baseHorizont-e,r=parseFloat((100*e/s.baseHorizont).toFixed(3),10);i({cycle:t,elapsed:e,remaining:n,progress:r})},e),this},function(t,e){return new i(t,e)}}();"object"==typeof exports&&(module.exports=i);
},{"@fedeghe/interval":"yU5q"}],"Focm":[function(require,module,exports) {
function e(e,i){return r(e)||o(e,i)||n(e,i)||t()}function t(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function n(e,t){if(e){if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(e,t):void 0}}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,i=new Array(t);n<t;n++)i[n]=e[n];return i}function o(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var i,o,r,l,a=[],s=!0,c=!1;try{if(r=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(i=r.call(n)).done)&&(a.push(i.value),a.length!==t);s=!0);}catch(u){c=!0,o=u}finally{try{if(!s&&null!=n.return&&(l=n.return(),Object(l)!==l))return}finally{if(c)throw o}}return a}}function r(e){if(Array.isArray(e))return e}var l=require("@fedeghe/countdown");!function(){var t={container:{fontFamily:"verdana",padding:"5px",paddingTop:"10px",paddingRight:"20px",borderRadius:"5px",display:"flex",justifyContent:"center",flexDirection:"column",alignItems:"center"},title:{fontWeight:"bold",textAlign:"center",paddingBottom:"10px"},file:{display:"none"},selectFileLabel:{cursor:"pointer",color:"blue",fontSize:"0.8em"},startButton:{color:"white",backgroundColor:"red",cursor:"pointer",fontSize:"1.2em",lineHeight:"1.1em",height:"1.2em",width:"1.2em",borderRadius:"0.6em",textAlign:"center"},plus:{width:"20px",height:"20px"},label:{color:"red"},progress:{accentColor:"green",height:"20px"},progressLabel:{accentColor:"#afa",height:"20px",position:"absolute",top:"5px",left:"5px",fontWeight:"bold",fontSize:"0.7em",margin:"5px",cursor:"pointer"},remaining:{fontSize:"1em",fontWeight:"bold"},complete:{fontWeight:"bold"},back:{cursor:"pointer"},newrun:{paddingTop:"5px",fontSize:"0.8em",color:"green",cursor:"pointer"},rerun:{fontSize:"1.4em",lineHeight:"0.8em",color:"green",cursor:"pointer"},higherTooltip:{display:"none",position:"absolute",right:"30px",top:"6px",fontSize:"0.6em"},aux:{position:"absolute",right:"5px",top:"5px",height:"20px",width:"20px",cursor:"pointer",color:"black",textAlign:"center"},lowerTooltip:{display:"none",position:"absolute",right:"50px",bottom:"6px",fontSize:"0.6em"},breakit:{position:"absolute",right:"5px",bottom:"5px",cursor:"pointer",width:"20px",height:"20px",lineHeight:"20px",textAlign:"center"},pauseResume:{position:"absolute",right:"25px",bottom:"5px",cursor:"pointer",width:"20px",height:"20px",lineHeight:"20px",textAlign:"center"}},n={startTitle:"Scheduler",startSelection:"selected file",full:"100.0%",end:"TIME OVER",chooseFile:"choose a configuration file",icons:{start:"⏵",stop:"⏹︎",pause:"⏸︎"},higherTooltip:{beepson:"turn beeps on",beepsoff:"turn beeps off"},lowerTooltip:{stop:"stop the countdown",pause:"pause the countdown",resume:"resume the countdown"}},i=!0,o=document.body,r=function(e,t){var n=t.attrs,i=void 0===n?null:n,o=t.style,r=void 0===o?null:o,l=document.createElement(e);if(i)for(a in i)l.setAttribute(a,i[a]);if(r)for(s in r)l.style[s]=r[s];return l},c=r("div",{style:t.container}),u=r("div",{style:t.title}),p=r("input",{style:t.file,attrs:{type:"file",name:"file",accept:".json"}}),d=r("div",{style:t.selectFileLabel}),f=r("div",{style:t.startButton}),g=r("div",{style:t.aux}),h=r("div",{style:t.breakit}),v=r("div",{style:t.pauseResume}),m=r("div",{style:t.higherTooltip}),b=r("div",{style:t.lowerTooltip}),y=r("div",{style:t.label}),T=r("progress",{style:t.progress,attrs:{value:100,max:100}}),x=r("div",{style:t.progressLabel}),L=r("div",{style:t.remaining}),w=r("div",{style:t.complete}),E=r("div",{style:t.newrun}),M=r("div",{style:t.back}),H=r("div",{style:t.rerun}),k={start:[u,p,d],ready:[u,f,M],running:[y,T,L,g,m,x,h,b],end:[w,H,E]},A={inner:null,global:null},S=function(){},O=0,j="perc",C="playing",R=function(e){var t=~~(e%3600/60),n=~~(e%60);return"".concat(~~(e/3600),"h ").concat(t,"m ").concat(n,"s")},z=function(e,t){if(i){e=e||100,t=t||400;var n=new AudioContext,o=n.createOscillator();o.type="sine",o.frequency.value=t,o.connect(n.destination),o.start(),setTimeout(function(){o.stop()},e)}},F=function(){z(100,800),setTimeout(z,100),G("end")},I=function(e){y.innerHTML=e},N=function(e){T.setAttribute("value",e)},U=function(e){L.innerHTML=e},W=function(){},B=function(){console.log({total:O}),x.innerHTML="perc"===j?n.full:R(Math.ceil(60*O)),A.global=l(W,6e4*O).onTick(function(e){var t=e.progress,n=e.remaining;console.log("global tick ",{progress:t,remaining:n});var i,o="perc"===j?"".concat((100-t).toFixed(1),"%"):R(Math.ceil(n/1e3));i=o,x.innerHTML=i},1e3).run()},q=function(e,t){void 0!==t&&(e.innerHTML=t),e.style.display="none"},D=function(e,t){void 0!==t&&(e.innerHTML=t),e.style.display="block"},G=function(e){var t,n;e in k&&(t=c,(n=n||Array.from(t.children)).forEach(function(e){t.removeChild(e)}),function(e,t){t.forEach(function(t){e.appendChild(t)})}(c,k[e]))},J=function(){P(),G("start")},P=function(){A.inner&&A.inner.end(),A.global&&A.global.end()};u.innerHTML=n.startTitle,f.innerHTML=n.icons.start,d.innerHTML=n.chooseFile,w.innerHTML=n.end,h.innerHTML=n.icons.stop,H.innerHTML="↺",E.innerHTML="new",M.innerHTML="←",g.innerHTML="♪",v.innerHTML=n.icons.pause,m.innerHTML=n.higherTooltip.beepsoff,b.innerHTML=n.lowerTooltip.stop,x.addEventListener("click",function(){j="perc"===j?"rem":"perc"}),H.addEventListener("click",function(){B(),S()}),v.addEventListener("mouseover",function(){D(b,n.lowerTooltip["playing"===C?"pause":"resume"])}),v.addEventListener("mouseleave",function(){q(b)}),v.addEventListener("click",function(){switch(q(b,""),C){case"playing":A.inner&&A.inner.pause(),A.global&&A.global.pause(),C="paused",document.body.style.backgroundColor="#aaa",v.innerHTML=n.icons.start,document.title=n.startTitle+" PAUSED";break;case"paused":A.inner&&A.inner.resume(),A.global&&A.global.resume(),C="playing",document.body.style.backgroundColor="#fff",v.innerHTML=n.icons.pause,document.title=n.startTitle+" RUNNING"}}),h.addEventListener("click",function(){q(b),J()}),h.addEventListener("mouseover",function(){D(b,n.lowerTooltip.stop)}),h.addEventListener("mouseleave",function(){q(b)}),M.addEventListener("click",J),E.addEventListener("click",J),g.addEventListener("click",function(){q(m,n.higherTooltip[(i=!i)?"beepsoff":"beepson"]),g.style.color=i?t.aux.color:"#aaa"}),g.addEventListener("mouseover",function(){D(hhigherTooltip)}),g.addEventListener("mouseleave",function(){q(m)}),f.addEventListener("click",function(){B(),S()}),d.addEventListener("click",function(){p.click()}),p.addEventListener("change",function(t){var n,i,o=this.files;o.length&&(n=o[0],i=new FileReader,n.name,i.addEventListener("load",function(){try{var n=function t(n,i){i=i||"",O=0;return Object.entries(n).reduce(function(n,o){var r,l=e(o,2),a=l[0],s=l[1],c=null!=(r=s)&&"Object"===r.constructor.name,u=(i?i+" - ":"")+a;return c?n=Object.assign({},n,t(s,u)):(O+=s,n[u]=s),n},{})}(JSON.parse(i.result));S=function(){G("running"),function e(t,n){setTimeout(z,100);var i=t[n][0],o=t[n][1];I(i),N(100),U(R(60*o)),A.inner=l(function(){t.length>n+1?e(t,n+1):F()},6e4*o).onTick(function(e){var t=e.progress,n=e.remaining;N(100-t),U(R(Math.ceil(n/1e3)))},1e3).run()}(Object.entries(n),0)},G("ready")}catch(t){console.log("ERROR: ",t)}},!1),i.readAsText(n,"UTF-8"),t.target.value="")}),o.appendChild(c),G("start")}();
},{"@fedeghe/countdown":"R8tU"}]},{},["Focm"], null)
//# sourceMappingURL=/index.js.map