{"version":3,"sources":["../node_modules/@fedeghe/interval/dist/index.js","../node_modules/@fedeghe/countdown/dist/index.js","index.js"],"names":["countdown","require","styles","container","fontFamily","padding","backgroundColor","position","top","right","paddingTop","paddingRight","border","borderRadius","opacity","display","justifyContent","flexDirection","alignItems","close","width","height","cursor","plus","label","color","progress","accentColor","remaining","fontSize","fontWeight","complete","newrun","rerun","lineHeight","flash","filter","transition","target","document","body","sec2time","sec","m","s","concat","create","tag","_ref","_ref$attrs","attrs","_ref$style","style","t","createElement","a","setAttribute","schedule","config","setters","show","console","log","JSON","stringify","runSchedule","schedules","index","time","length","onTick","_ref2","Math","ceil","run","Object","entries","fileInput","type","name","accept","value","max","removeChild","appendChild","end","setLabel","l","innerHTML","setProgress","p","setRemaining","r","memRun","addEventListener","e","files","file","reader","FileReader","j","parse","result","again","fi","readAsText"],"mappings":"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","file":"index.js","sourceRoot":"../source","sourcesContent":["'use strict';\n/*\nInterval v1.0.19\nfedeghe <fedeghe@gmail.com>\nA really simple function to provide a better timing to replace the setInterval\n*/\nconst interval=function(t,n,i){function e(t,n){this.fn=t,this.interval=n,this.int=0,this.counter=0,this.initDate=+new Date,this.active=!1,this.paused=!1,this._onErr=null,this._onEnd=null,this._onPause=null,this._onResume=null,this._pause=null,this._resume=null}var s=function(t){return\"function\"==typeof t};return e.prototype.onEnd=function(t){return s(t)&&(this._onEnd=t),this},e.prototype.onErr=function(t){return s(t)&&(this._onErr=t),this},e.prototype.onPause=function(t){return s(t)&&(this._onPause=t),this},e.prototype.onResume=function(t){return s(t)&&(this._onResume=t),this},e.prototype.end=function(){return this.active=!1,this._onEnd&&this._onEnd(this),this},e.prototype.endsIn=function(t){var n=this;return setTimeout(function(){n.end()},t),this},e.prototype.pause=function(){return this.paused=!0,this._onPause&&this._onPause(this),this},e.prototype.resume=function(){return this.paused=!1,this._onResume&&this._onResume(this),this},e.prototype.runIfActive=function(){return this.active&&this.run(),this},e.prototype.run=function(t){this.active=!0;var n=this;return this.int=this.interval+(this.initDate+this.counter++*this.interval-new Date),t&&t(n),setTimeout(function(){if(!n.paused&&n.active)try{n.fn(n.counter-1)}catch(t){n._onErr&&n._onErr(t,n),n.active=!1}n.runIfActive()},n.int),this},function(t,n){return new e(t,n)}}();\"object\"==typeof exports&&(module.exports=interval);","'use strict';\n/*\nCountdown v0.0.11\nfedeghe <fedeghe@gmail.com>\n$description$\n*/\nconst interval=require(\"@fedeghe/interval\"),countdown=function(){function t(t,i){this.fn=t,this.horizont=i,this.baseHorizont=i,this.to=null,this.active=!1,this.paused=!1,this._onErr=null,this._onEnd=null,this._onTick=null,this.tick=null,this.ticker=null,this.startPause=0,this.pauseSpan=0,this.updates=0,this._onUpdate=null,this._update=null,this._onPause=null,this._pause=null,this._onResume=null,this._resume=null}var i=function(t){return\"function\"==typeof t};return t.prototype.end=function(){return this.active=!1,this._onEnd&&this._onEnd(),this.ticker&&this.ticker.end(),clearTimeout(this.to),this},t.prototype.onEnd=function(t){return i(t)&&(this._onEnd=t),this},t.prototype.onErr=function(t){return i(t)&&(this._onErr=t),this},t.prototype.onPause=function(t){return i(t)&&(this._onPause=t),this},t.prototype.onResume=function(t){return i(t)&&(this._onResume=t),this},t.prototype.onUpdate=function(t){return i(t)&&(this._onUpdate=t),this},t.prototype.pause=function(){return this.paused=!0,this._onPause&&this._onPause(this),this.to&&clearTimeout(this.to),this.startPause=+new Date,this.ticker&&this.ticker.pause(),this},t.prototype.resume=function(){return this.paused=!1,this._onResume&&this._onResume(this),this.pauseSpan=+new Date-this.startPause,this.horizont-=this.pauseSpan,this.run(!1,!0),this.ticker&&this.ticker.resume(),this},t.prototype.getStatus=function(){var t=+new Date,i=t-this.startTime-this.pauseSpan;return{elapsed:i,remaining:this.horizont-i+this.updates,progress:100*i/this.horizont}},t.prototype.run=function(t,i){var e=this;return this.startTime=this.startTime||+new Date,this.active=!0,t&&t(e),this.to=setTimeout(function(){try{e.fn(),e.end(),e.ticker&&e.ticker.end()}catch(t){e._onErr&&e._onErr(t,e),e.active=!1}},this.horizont),!i&&this.ticker&&this.ticker.run(),this},t.prototype.update=function(t){var i=parseInt(t);this.updates=i;var e=+new Date,s=e-this.startTime-this.pauseSpan,n=this.baseHorizont-s,o=i+n;return this.baseHorizont=s+o,o&&o>0&&(this._onUpdate&&this._onUpdate(this),this.horizont=o,this.to&&clearTimeout(this.to),this.run()),this},t.prototype.onTick=function(t,i){var e=this;return this.ticker=interval(function(i){var s=+new Date,n=s-e.startTime-e.pauseSpan,o=e.baseHorizont-n,r=parseFloat((100*n/e.baseHorizont).toFixed(3),10);t({cycle:i,elapsed:n,remaining:o,progress:r})},i),this},function(i,e){return new t(i,e)}}();\"object\"==typeof exports&&(module.exports=countdown);","const countdown = require('@fedeghe/countdown');\n\n(function (){\n    var styles = {\n            container: {\n                fontFamily: 'verdana',\n                padding: '5px',\n                backgroundColor: 'white',\n                position:'fixed',\n                top:'-5px',\n                right:'-5px',\n                paddingTop:'10px',\n                paddingRight:'20px',\n                // top:0,\n                // right:0,\n                // width:'300px',\n                // height:'50px',\n                border:'1px dashed #aaa',\n                borderRadius:'5px',\n                opacity:'0.7',\n                display:'flex',\n                justifyContent:'center',\n                flexDirection: 'column',\n                alignItems: 'center'\n            },\n            close: {\n                position:'absolute',\n                right:'10px',\n                top:'5px',\n                width:'10px',\n                height:'10px',\n                cursor:'pointer'\n            },\n            plus: {\n                width:'20px',\n                height:'20px',\n            },\n            label:{color:'red'},\n            progress:{accentColor:'green', height:'20px'},\n            remaining:{\n                fontSize:'1em',\n                fontWeight: 'bold'\n            },\n            complete:{\n                fontWeight:'bold',\n            },\n            newrun:{\n                fontSize:'0.8em',\n                color:'green',\n                cursor: 'pointer'\n            },\n            rerun:{\n                fontSize:'1.4em',\n                lineHeight:'0.8em',\n                color:'green',\n                cursor: 'pointer'\n            },\n            flash: {\n                filter: 'invert(100%)',\n                transition: 'filter .3s ease-in-out'\n            }\n        },\n        target = document.body;\n    \n    function sec2time(sec) {\n        var h = ~~ (sec / 3600),\n            m = ~~ ((sec % 3600)/ 60),\n            s = ~~ (sec % 60);\n        return `${h}h ${m}m ${s}s`;\n    }\n    function create(tag, {attrs = null, style = null}) {\n        var t = document.createElement(tag);\n        if(attrs) for(a in attrs) t.setAttribute(a, attrs[a]);\n        if(style) for(s in style) t.style[s] = style[s];\n\n        return t;\n    }\n    function schedule(config, setters, show, complete){\n        console.log(JSON.stringify(config, null, 2))\n        runSchedule(Object.entries(config), 0, setters, complete)\n        show()\n    }\n    \n    function runSchedule(schedules, index, setters, complete){\n        var label = schedules[index][0],\n            time = schedules[index][1];\n        \n        setters.label(label)\n        setters.progress(1000)\n        setters.remaining(sec2time(time*60))\n        countdown(() => {\n            console.log(schedules.length,  index+1,  schedules.length > index+1)\n            if (schedules.length > index+1) {\n                runSchedule(schedules, index+1, setters, complete)\n            } else {\n                console.log('complete')\n                complete()\n            }\n        }, time*60e3)\n        .onTick(({progress, remaining}) => {\n            // console.log({progress, remaining})\n            setters.progress(100-progress)\n            setters.remaining(sec2time(Math.ceil(remaining/1000)))\n        },1e3).run()\n    }\n\n\n    //\n    (function(){\n        var container = create('div', {style: styles.container}),\n            fileInput = create('input', {attrs: {type:'file', name:'file', accept:'application/json'}}),\n            close = create('div', {style:styles.close}),\n            label = create('div', {style:styles.label}),\n            progress = create('progress', {style:styles.progress, attrs:{value: 0, max:100}}),\n            remaining = create('div', {style:styles.remaining});\n            end = create('div', {style:styles.complete});\n            newrun = create('div', {style:styles.newrun});\n            rerun = create('div', {style:styles.rerun}),\n            memRun = function (){};\n        function show(fi){\n            console.log({fi})\n            container.appendChild(label);\n            container.appendChild(progress);\n            container.appendChild(remaining);\n            if(!fi)\n                container.removeChild(fileInput);\n        }\n        function complete(){\n            container.removeChild(label);\n            container.removeChild(progress);\n            container.removeChild(remaining);\n            container.appendChild(end);\n            container.appendChild(rerun);\n            container.appendChild(newrun);\n        }\n        function setLabel(l){\n            label.innerHTML = l;\n        }\n        function setProgress(p){progress.setAttribute('value', p)}\n        function setRemaining(r){remaining.innerHTML = r}\n        close.innerHTML='&times;';\n        end.innerHTML='TIME OVER';\n        rerun.innerHTML='↺';\n        newrun.innerHTML='new';\n        close.addEventListener('click', function (){\n            target.removeChild(container);\n        });\n        rerun.addEventListener('click', function _(){\n            container.appendChild(label);\n            container.appendChild(progress);\n            container.appendChild(remaining);\n            container.removeChild(end);\n            container.removeChild(rerun);\n            container.removeChild(newrun);\n            memRun(true);\n        })\n        newrun.addEventListener('click', function _(){\n            container.removeChild(end);\n            container.removeChild(rerun);\n            container.removeChild(newrun);\n            container.appendChild(fileInput);\n        })\n        fileInput.addEventListener('change', function (e){\n            var files = this.files;\n\n            if (files.length) {\n                var file = files[0],\n                    reader = new FileReader(); // Creating reader instance from FileReader() API\n                    \n                reader.addEventListener(\"load\", function () { \n                    var j = JSON.parse(reader.result);\n                    memRun = again => schedule(j, {\n                        label: setLabel,\n                        progress: setProgress,\n                        remaining: setRemaining\n                    },function (){show(again);}, complete);\n                    memRun();\n                }, false);\n                reader.readAsText(file, \"UTF-8\");\n                e.target.value = '';\n            }\n        });\n        container.appendChild(fileInput);\n        container.appendChild(close);\n        target.appendChild(container);\n    })();\n\n})();\n"]}