{"version":3,"sources":["../node_modules/@fedeghe/interval/dist/index.js","../node_modules/@fedeghe/countdown/dist/index.js","index.js"],"names":["countdown","require","styles","container","fontFamily","padding","backgroundColor","position","top","right","paddingTop","paddingRight","border","borderRadius","opacity","display","justifyContent","flexDirection","alignItems","close","width","height","cursor","plus","label","color","progress","accentColor","remaining","fontSize","fontWeight","complete","newrun","rerun","lineHeight","flash","filter","transition","target","document","body","sec2time","sec","h","m","s","concat","create","tag","_ref","_ref$attrs","attrs","_ref$style","style","t","createElement","a","setAttribute","schedule","config","setters","show","console","log","JSON","stringify","runSchedule","Object","entries","schedules","index","time","length","onTick","_ref2","Math","ceil","run","fileInput","type","name","accept","value","max","end","memRun","fi","appendChild","removeChild","setLabel","l","innerHTML","setProgress","p","setRemaining","r","addEventListener","_","e","files","file","reader","FileReader","j","parse","result","again","readAsText"],"mappings":"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","file":"index.js","sourceRoot":"../source","sourcesContent":["'use strict';\n/*\nInterval v1.0.19\nfedeghe <fedeghe@gmail.com>\nA really simple function to provide a better timing to replace the setInterval\n*/\nconst interval=function(t,n,i){function e(t,n){this.fn=t,this.interval=n,this.int=0,this.counter=0,this.initDate=+new Date,this.active=!1,this.paused=!1,this._onErr=null,this._onEnd=null,this._onPause=null,this._onResume=null,this._pause=null,this._resume=null}var s=function(t){return\"function\"==typeof t};return e.prototype.onEnd=function(t){return s(t)&&(this._onEnd=t),this},e.prototype.onErr=function(t){return s(t)&&(this._onErr=t),this},e.prototype.onPause=function(t){return s(t)&&(this._onPause=t),this},e.prototype.onResume=function(t){return s(t)&&(this._onResume=t),this},e.prototype.end=function(){return this.active=!1,this._onEnd&&this._onEnd(this),this},e.prototype.endsIn=function(t){var n=this;return setTimeout(function(){n.end()},t),this},e.prototype.pause=function(){return this.paused=!0,this._onPause&&this._onPause(this),this},e.prototype.resume=function(){return this.paused=!1,this._onResume&&this._onResume(this),this},e.prototype.runIfActive=function(){return this.active&&this.run(),this},e.prototype.run=function(t){this.active=!0;var n=this;return this.int=this.interval+(this.initDate+this.counter++*this.interval-new Date),t&&t(n),setTimeout(function(){if(!n.paused&&n.active)try{n.fn(n.counter-1)}catch(t){n._onErr&&n._onErr(t,n),n.active=!1}n.runIfActive()},n.int),this},function(t,n){return new e(t,n)}}();\"object\"==typeof exports&&(module.exports=interval);","'use strict';\n/*\nCountdown v0.0.11\nfedeghe <fedeghe@gmail.com>\n$description$\n*/\nconst interval=require(\"@fedeghe/interval\"),countdown=function(){function t(t,i){this.fn=t,this.horizont=i,this.baseHorizont=i,this.to=null,this.active=!1,this.paused=!1,this._onErr=null,this._onEnd=null,this._onTick=null,this.tick=null,this.ticker=null,this.startPause=0,this.pauseSpan=0,this.updates=0,this._onUpdate=null,this._update=null,this._onPause=null,this._pause=null,this._onResume=null,this._resume=null}var i=function(t){return\"function\"==typeof t};return t.prototype.end=function(){return this.active=!1,this._onEnd&&this._onEnd(),this.ticker&&this.ticker.end(),clearTimeout(this.to),this},t.prototype.onEnd=function(t){return i(t)&&(this._onEnd=t),this},t.prototype.onErr=function(t){return i(t)&&(this._onErr=t),this},t.prototype.onPause=function(t){return i(t)&&(this._onPause=t),this},t.prototype.onResume=function(t){return i(t)&&(this._onResume=t),this},t.prototype.onUpdate=function(t){return i(t)&&(this._onUpdate=t),this},t.prototype.pause=function(){return this.paused=!0,this._onPause&&this._onPause(this),this.to&&clearTimeout(this.to),this.startPause=+new Date,this.ticker&&this.ticker.pause(),this},t.prototype.resume=function(){return this.paused=!1,this._onResume&&this._onResume(this),this.pauseSpan=+new Date-this.startPause,this.horizont-=this.pauseSpan,this.run(!1,!0),this.ticker&&this.ticker.resume(),this},t.prototype.getStatus=function(){var t=+new Date,i=t-this.startTime-this.pauseSpan;return{elapsed:i,remaining:this.horizont-i+this.updates,progress:100*i/this.horizont}},t.prototype.run=function(t,i){var e=this;return this.startTime=this.startTime||+new Date,this.active=!0,t&&t(e),this.to=setTimeout(function(){try{e.fn(),e.end(),e.ticker&&e.ticker.end()}catch(t){e._onErr&&e._onErr(t,e),e.active=!1}},this.horizont),!i&&this.ticker&&this.ticker.run(),this},t.prototype.update=function(t){var i=parseInt(t);this.updates=i;var e=+new Date,s=e-this.startTime-this.pauseSpan,n=this.baseHorizont-s,o=i+n;return this.baseHorizont=s+o,o&&o>0&&(this._onUpdate&&this._onUpdate(this),this.horizont=o,this.to&&clearTimeout(this.to),this.run()),this},t.prototype.onTick=function(t,i){var e=this;return this.ticker=interval(function(i){var s=+new Date,n=s-e.startTime-e.pauseSpan,o=e.baseHorizont-n,r=parseFloat((100*n/e.baseHorizont).toFixed(3),10);t({cycle:i,elapsed:n,remaining:o,progress:r})},i),this},function(i,e){return new t(i,e)}}();\"object\"==typeof exports&&(module.exports=countdown);","const countdown = require('@fedeghe/countdown');\n\n(function (){\n    var styles = {\n            container: {\n                fontFamily: 'verdana',\n                padding: '5px',\n                backgroundColor: 'white',\n                position:'fixed',\n                top:'-5px',\n                right:'-5px',\n                paddingTop:'10px',\n                paddingRight:'20px',\n                // top:0,\n                // right:0,\n                // width:'300px',\n                // height:'50px',\n                border:'1px dashed #aaa',\n                borderRadius:'5px',\n                opacity:'0.7',\n                display:'flex',\n                justifyContent:'center',\n                flexDirection: 'column',\n                alignItems: 'center'\n            },\n            close: {\n                position:'absolute',\n                right:'10px',\n                top:'5px',\n                width:'10px',\n                height:'10px',\n                cursor:'pointer'\n            },\n            plus: {\n                width:'20px',\n                height:'20px',\n            },\n            label:{color:'red'},\n            progress:{accentColor:'green', height:'20px'},\n            remaining:{\n                fontSize:'0.5em',\n                fontWeight: 'bold'\n            },\n            complete:{\n                fontWeight:'bold',\n            },\n            newrun:{\n                fontSize:'0.8em',\n                color:'green',\n                cursor: 'pointer'\n            },\n            rerun:{\n                fontSize:'1.4em',\n                lineHeight:'0.8em',\n                color:'green',\n                cursor: 'pointer'\n            },\n            flash: {\n                filter: 'invert(100%)',\n                transition: 'filter .3s ease-in-out'\n            }\n        },\n        target = document.body;\n    \n    function sec2time(sec) {\n        var h = ~~ (sec / 3600),\n            m = ~~ ((sec % 3600)/ 60),\n            s = ~~ (sec % 60);\n        return `${h}h ${m}m ${s}s`;\n    }\n    function create(tag, {attrs = null, style = null}) {\n        var t = document.createElement(tag);\n        if(attrs) for(a in attrs) t.setAttribute(a, attrs[a]);\n        if(style) for(s in style) t.style[s] = style[s];\n\n        return t;\n    }\n    function schedule(config, setters, show, complete){\n        console.log(JSON.stringify(config, null, 2))\n        runSchedule(Object.entries(config), 0, setters, complete)\n        show()\n    }\n    \n    function runSchedule(schedules, index, setters, complete){\n        var label = schedules[index][0],\n            time = schedules[index][1];\n        \n        setters.label(label)\n        setters.progress(1000)\n        setters.remaining(sec2time(time*60))\n        countdown(() => {\n            console.log(schedules.length,  index+1,  schedules.length > index+1)\n            if (schedules.length > index+1) {\n                runSchedule(schedules, index+1, setters, complete)\n            } else {\n                console.log('complete')\n                complete()\n            }\n        }, time*60e3)\n        .onTick(({progress, remaining}) => {\n            // console.log({progress, remaining})\n            setters.progress(100-progress)\n            setters.remaining(sec2time(Math.ceil(remaining/1000)))\n        },1e3).run()\n    }\n\n\n    //\n    (function(){\n        var container = create('div', {style: styles.container}),\n            fileInput = create('input', {attrs: {type:'file', name:'file', accept:'application/json'}}),\n            close = create('div', {style:styles.close}),\n            label = create('div', {style:styles.label}),\n            progress = create('progress', {style:styles.progress, attrs:{value: 0, max:100}}),\n            remaining = create('div', {style:styles.remaining});\n            end = create('div', {style:styles.complete});\n            newrun = create('div', {style:styles.newrun});\n            rerun = create('div', {style:styles.rerun}),\n            memRun = function (){};\n        function show(fi){\n            console.log({fi})\n            container.appendChild(label);\n            container.appendChild(progress);\n            container.appendChild(remaining);\n            if(!fi)\n                container.removeChild(fileInput);\n        }\n        function complete(){\n            container.removeChild(label);\n            container.removeChild(progress);\n            container.removeChild(remaining);\n            container.appendChild(end);\n            container.appendChild(rerun);\n            container.appendChild(newrun);\n        }\n        function setLabel(l){\n            label.innerHTML = l;\n        }\n        function setProgress(p){progress.setAttribute('value', p)}\n        function setRemaining(r){remaining.innerHTML = r}\n        close.innerHTML='&times;';\n        end.innerHTML='TIME OVER';\n        rerun.innerHTML='↺';\n        newrun.innerHTML='new';\n        close.addEventListener('click', function (){\n            target.removeChild(container);\n        });\n        rerun.addEventListener('click', function _(){\n            container.appendChild(label);\n            container.appendChild(progress);\n            container.appendChild(remaining);\n            container.removeChild(end);\n            container.removeChild(rerun);\n            container.removeChild(newrun);\n            memRun(true);\n        })\n        newrun.addEventListener('click', function _(){\n            container.removeChild(end);\n            container.removeChild(rerun);\n            container.removeChild(newrun);\n            container.appendChild(fileInput);\n        })\n        fileInput.addEventListener('change', function (e){\n            var files = this.files;\n\n            if (files.length) {\n                var file = files[0],\n                    reader = new FileReader(); // Creating reader instance from FileReader() API\n                    \n                reader.addEventListener(\"load\", function () { \n                    var j = JSON.parse(reader.result);\n                    memRun = again => schedule(j, {\n                        label: setLabel,\n                        progress: setProgress,\n                        remaining: setRemaining\n                    },function (){show(again);}, complete);\n                    memRun();\n                }, false);\n                reader.readAsText(file, \"UTF-8\");\n                e.target.value = '';\n            }\n        });\n        container.appendChild(fileInput);\n        container.appendChild(close);\n        target.appendChild(container);\n    })();\n\n})();\n"]}