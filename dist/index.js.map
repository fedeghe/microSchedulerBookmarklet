{"version":3,"sources":["../node_modules/@fedeghe/interval/dist/index.js","../node_modules/@fedeghe/countdown/dist/index.js","index.js"],"names":["countdown","require","styles","container","fontFamily","padding","backgroundColor","paddingTop","paddingRight","borderRadius","opacity","display","justifyContent","flexDirection","alignItems","plus","width","height","label","color","progress","accentColor","progressG","position","bottom","left","remaining","fontSize","fontWeight","aux","right","top","cursor","complete","newrun","rerun","lineHeight","auxTitle","auxActive","target","document","body","create","tag","_ref","_ref$attrs","attrs","_ref$style","style","t","createElement","a","setAttribute","s","auxTitles","fileInput","type","name","accept","value","max","end","memRun","total","sec2time","sec","m","concat","makeFlat","_makeFlat","_x2","_x3","apply","arguments","toString","j","key","Object","entries","reduce","acc","_ref2","obj","_ref3","_slicedToArray","k","v","deep","constructor","innerK","assign","remove","p","cs","forEach","c","removeChild","append","appendChild","schedule","config","setters","show","runSchedule","beep","d","f","context","AudioContext","oscillator","createOscillator","frequency","connect","destination","start","setTimeout","stop","beepn","n","i","_runSchedule","_x4","_x5","_x6","_x7","schedules","index","time","length","onTick","_ref4","Math","ceil","run","fi","setLabel","l","innerHTML","setProgress","setProgressG","setRemaining","r","addEventListener","e","file","reader","files","FileReader","JSON","parse","result","flatted","again","_ref5","console","log","readAsText"],"mappings":";AAAA,aAMA,MAAA,EAAA,SAAA,EAAA,EAAA,GAAA,SAAA,EAAA,EAAA,GAAA,KAAA,GAAA,EAAA,KAAA,SAAA,EAAA,KAAA,IAAA,EAAA,KAAA,QAAA,EAAA,KAAA,UAAA,IAAA,KAAA,KAAA,QAAA,EAAA,KAAA,QAAA,EAAA,KAAA,OAAA,KAAA,KAAA,OAAA,KAAA,KAAA,SAAA,KAAA,KAAA,UAAA,KAAA,KAAA,OAAA,KAAA,KAAA,QAAA,KAAA,IAAA,EAAA,SAAA,GAAA,MAAA,mBAAA,GAAA,OAAA,EAAA,UAAA,MAAA,SAAA,GAAA,OAAA,EAAA,KAAA,KAAA,OAAA,GAAA,MAAA,EAAA,UAAA,MAAA,SAAA,GAAA,OAAA,EAAA,KAAA,KAAA,OAAA,GAAA,MAAA,EAAA,UAAA,QAAA,SAAA,GAAA,OAAA,EAAA,KAAA,KAAA,SAAA,GAAA,MAAA,EAAA,UAAA,SAAA,SAAA,GAAA,OAAA,EAAA,KAAA,KAAA,UAAA,GAAA,MAAA,EAAA,UAAA,IAAA,WAAA,OAAA,KAAA,QAAA,EAAA,KAAA,QAAA,KAAA,OAAA,MAAA,MAAA,EAAA,UAAA,OAAA,SAAA,GAAA,IAAA,EAAA,KAAA,OAAA,WAAA,WAAA,EAAA,OAAA,GAAA,MAAA,EAAA,UAAA,MAAA,WAAA,OAAA,KAAA,QAAA,EAAA,KAAA,UAAA,KAAA,SAAA,MAAA,MAAA,EAAA,UAAA,OAAA,WAAA,OAAA,KAAA,QAAA,EAAA,KAAA,WAAA,KAAA,UAAA,MAAA,MAAA,EAAA,UAAA,YAAA,WAAA,OAAA,KAAA,QAAA,KAAA,MAAA,MAAA,EAAA,UAAA,IAAA,SAAA,GAAA,KAAA,QAAA,EAAA,IAAA,EAAA,KAAA,OAAA,KAAA,IAAA,KAAA,UAAA,KAAA,SAAA,KAAA,UAAA,KAAA,SAAA,IAAA,MAAA,GAAA,EAAA,GAAA,WAAA,WAAA,IAAA,EAAA,QAAA,EAAA,OAAA,IAAA,EAAA,GAAA,EAAA,QAAA,GAAA,MAAA,GAAA,EAAA,QAAA,EAAA,OAAA,EAAA,GAAA,EAAA,QAAA,EAAA,EAAA,eAAA,EAAA,KAAA,MAAA,SAAA,EAAA,GAAA,OAAA,IAAA,EAAA,EAAA,IAAA,GAAA,iBAAA,UAAA,OAAA,QAAA;;ACNA,aAMA,MAAA,EAAA,QAAA,qBAAA,EAAA,WAAA,SAAA,EAAA,EAAA,GAAA,KAAA,GAAA,EAAA,KAAA,SAAA,EAAA,KAAA,aAAA,EAAA,KAAA,GAAA,KAAA,KAAA,QAAA,EAAA,KAAA,QAAA,EAAA,KAAA,OAAA,KAAA,KAAA,OAAA,KAAA,KAAA,QAAA,KAAA,KAAA,KAAA,KAAA,KAAA,OAAA,KAAA,KAAA,WAAA,EAAA,KAAA,UAAA,EAAA,KAAA,QAAA,EAAA,KAAA,UAAA,KAAA,KAAA,QAAA,KAAA,KAAA,SAAA,KAAA,KAAA,OAAA,KAAA,KAAA,UAAA,KAAA,KAAA,QAAA,KAAA,IAAA,EAAA,SAAA,GAAA,MAAA,mBAAA,GAAA,OAAA,EAAA,UAAA,IAAA,WAAA,OAAA,KAAA,QAAA,EAAA,KAAA,QAAA,KAAA,SAAA,KAAA,QAAA,KAAA,OAAA,MAAA,aAAA,KAAA,IAAA,MAAA,EAAA,UAAA,MAAA,SAAA,GAAA,OAAA,EAAA,KAAA,KAAA,OAAA,GAAA,MAAA,EAAA,UAAA,MAAA,SAAA,GAAA,OAAA,EAAA,KAAA,KAAA,OAAA,GAAA,MAAA,EAAA,UAAA,QAAA,SAAA,GAAA,OAAA,EAAA,KAAA,KAAA,SAAA,GAAA,MAAA,EAAA,UAAA,SAAA,SAAA,GAAA,OAAA,EAAA,KAAA,KAAA,UAAA,GAAA,MAAA,EAAA,UAAA,SAAA,SAAA,GAAA,OAAA,EAAA,KAAA,KAAA,UAAA,GAAA,MAAA,EAAA,UAAA,MAAA,WAAA,OAAA,KAAA,QAAA,EAAA,KAAA,UAAA,KAAA,SAAA,MAAA,KAAA,IAAA,aAAA,KAAA,IAAA,KAAA,YAAA,IAAA,KAAA,KAAA,QAAA,KAAA,OAAA,QAAA,MAAA,EAAA,UAAA,OAAA,WAAA,OAAA,KAAA,QAAA,EAAA,KAAA,WAAA,KAAA,UAAA,MAAA,KAAA,WAAA,IAAA,KAAA,KAAA,WAAA,KAAA,UAAA,KAAA,UAAA,KAAA,KAAA,GAAA,GAAA,KAAA,QAAA,KAAA,OAAA,SAAA,MAAA,EAAA,UAAA,UAAA,WAAA,IAAA,GAAA,IAAA,KAAA,KAAA,UAAA,KAAA,UAAA,MAAA,CAAA,QAAA,EAAA,UAAA,KAAA,SAAA,EAAA,KAAA,QAAA,SAAA,IAAA,EAAA,KAAA,WAAA,EAAA,UAAA,IAAA,SAAA,EAAA,GAAA,IAAA,EAAA,KAAA,OAAA,KAAA,UAAA,KAAA,YAAA,IAAA,KAAA,KAAA,QAAA,EAAA,GAAA,EAAA,GAAA,KAAA,GAAA,WAAA,WAAA,IAAA,EAAA,KAAA,EAAA,MAAA,EAAA,QAAA,EAAA,OAAA,MAAA,MAAA,GAAA,EAAA,QAAA,EAAA,OAAA,EAAA,GAAA,EAAA,QAAA,IAAA,KAAA,WAAA,GAAA,KAAA,QAAA,KAAA,OAAA,MAAA,MAAA,EAAA,UAAA,OAAA,SAAA,GAAA,IAAA,EAAA,SAAA,GAAA,KAAA,QAAA,EAAA,IAAA,GAAA,IAAA,KAAA,KAAA,UAAA,KAAA,UAAA,EAAA,GAAA,KAAA,aAAA,GAAA,OAAA,KAAA,aAAA,EAAA,EAAA,GAAA,EAAA,IAAA,KAAA,WAAA,KAAA,UAAA,MAAA,KAAA,SAAA,EAAA,KAAA,IAAA,aAAA,KAAA,IAAA,KAAA,OAAA,MAAA,EAAA,UAAA,OAAA,SAAA,EAAA,GAAA,IAAA,EAAA,KAAA,OAAA,KAAA,OAAA,EAAA,SAAA,GAAA,IAAA,GAAA,IAAA,KAAA,EAAA,UAAA,EAAA,UAAA,EAAA,EAAA,aAAA,EAAA,EAAA,YAAA,IAAA,EAAA,EAAA,cAAA,QAAA,GAAA,IAAA,EAAA,CAAA,MAAA,EAAA,QAAA,EAAA,UAAA,EAAA,SAAA,KAAA,GAAA,MAAA,SAAA,EAAA,GAAA,OAAA,IAAA,EAAA,EAAA,IAAA,GAAA,iBAAA,UAAA,OAAA,QAAA;;ACoOI,SAAA,EAAA,EAAA,GAAA,OAAA,EAAA,IAAA,EAAA,EAAA,IAAA,EAAA,EAAA,IAAA,IAAA,SAAA,IAAA,MAAA,IAAA,UAAA,6IAAA,SAAA,EAAA,EAAA,GAAA,GAAA,EAAA,CAAA,GAAA,iBAAA,EAAA,OAAA,EAAA,EAAA,GAAA,IAAA,EAAA,OAAA,UAAA,SAAA,KAAA,GAAA,MAAA,GAAA,GAAA,MAAA,WAAA,GAAA,EAAA,cAAA,EAAA,EAAA,YAAA,MAAA,QAAA,GAAA,QAAA,EAAA,MAAA,KAAA,GAAA,cAAA,GAAA,2CAAA,KAAA,GAAA,EAAA,EAAA,QAAA,GAAA,SAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,UAAA,EAAA,EAAA,QAAA,IAAA,IAAA,EAAA,EAAA,EAAA,IAAA,MAAA,GAAA,EAAA,EAAA,IAAA,EAAA,GAAA,EAAA,GAAA,OAAA,EAAA,SAAA,EAAA,EAAA,GAAA,IAAA,EAAA,MAAA,EAAA,KAAA,oBAAA,QAAA,EAAA,OAAA,WAAA,EAAA,cAAA,GAAA,MAAA,EAAA,CAAA,IAAA,EAAA,EAAA,EAAA,EAAA,EAAA,GAAA,GAAA,EAAA,GAAA,EAAA,IAAA,GAAA,GAAA,EAAA,EAAA,KAAA,IAAA,KAAA,IAAA,EAAA,CAAA,GAAA,OAAA,KAAA,EAAA,OAAA,GAAA,OAAA,OAAA,GAAA,EAAA,EAAA,KAAA,IAAA,QAAA,EAAA,KAAA,EAAA,OAAA,EAAA,SAAA,GAAA,GAAA,IAAA,MAAA,GAAA,GAAA,EAAA,EAAA,EAAA,QAAA,IAAA,IAAA,GAAA,MAAA,EAAA,SAAA,EAAA,EAAA,SAAA,OAAA,KAAA,GAAA,OAAA,QAAA,GAAA,EAAA,MAAA,GAAA,OAAA,GAAA,SAAA,EAAA,GAAA,GAAA,MAAA,QAAA,GAAA,OAAA,EA1OJ,IAAMA,EAAYC,QAAQ,uBAE1B,WACI,IAAIC,EAAS,CACTC,UAAW,CACPC,WAAY,UACZC,QAAS,MACTC,gBAAiB,QACjBC,WAAY,OACZC,aAAc,OACdC,aAAc,MACdC,QAAS,MACTC,QAAS,OACTC,eAAgB,SAChBC,cAAe,SACfC,WAAY,UAEhBC,KAAM,CACFC,MAAO,OACPC,OAAQ,QAEZC,MAAO,CAAEC,MAAO,OAChBC,SAAU,CAAEC,YAAa,QAASJ,OAAQ,QAC1CK,UAAW,CACPD,YAAa,QACbJ,OAAQ,OACRD,MAAO,OACPO,SAAU,WACVC,OAAQ,EACRC,KAAM,GAEVC,UAAW,CACPC,SAAU,MACVC,WAAY,QAEhBC,IAAK,CACDN,SAAU,WACVO,MAAO,EACPC,IAAK,EACLd,OAAQ,OACRD,MAAO,OACPgB,OAAQ,UACRb,MAAO,SAGXc,SAAU,CACNL,WAAY,QAEhBM,OAAQ,CACJP,SAAU,QACVR,MAAO,QACPa,OAAQ,WAEZG,MAAO,CACHR,SAAU,QACVS,WAAY,QACZjB,MAAO,QACPa,OAAQ,WAEZK,SAAU,CACN1B,QAAS,OACTY,SAAU,WACVO,MAAO,OACPC,IAAK,MACLJ,SAAU,UAGdW,GAAY,EACZC,EAASC,SAASC,KAClBC,EAAS,SAAUC,EAAGC,GAAkC,IAAAC,EAAAD,EAA9BE,MAAAA,OAAQ,IAAHD,EAAG,KAAIA,EAAAE,EAAAH,EAAEI,MAAAA,OAAQ,IAAHD,EAAG,KAAIA,EAC5CE,EAAIT,SAASU,cAAcP,GAC/B,GAAIG,EAAO,IAAKK,KAAKL,EAAOG,EAAEG,aAAaD,EAAGL,EAAMK,IACpD,GAAIH,EAAO,IAAKK,KAAKL,EAAOC,EAAED,MAAMK,GAAKL,EAAMK,GAC/C,OAAOJ,GAEXK,EAAY,CAAC,gBAAiB,kBAC9BzB,EAAMa,EAAO,MAAO,CAAEM,MAAO9C,EAAO2B,MACpCQ,EAAWK,EAAO,MAAO,CAAEM,MAAO9C,EAAOmC,WACzClC,EAAYuC,EAAO,MAAO,CAAEM,MAAO9C,EAAOC,YAC1CoD,EAAYb,EAAO,QAAS,CAAEI,MAAO,CAAEU,KAAM,OAAQC,KAAM,OAAQC,OAAQ,sBAC3ExC,EAAQwB,EAAO,MAAO,CAAEM,MAAO9C,EAAOgB,QACtCE,EAAWsB,EAAO,WAAY,CAAEM,MAAO9C,EAAOkB,SAAU0B,MAAO,CAAEa,MAAO,EAAGC,IAAK,OAChFtC,EAAYoB,EAAO,WAAY,CAAEM,MAAO9C,EAAOoB,UAAWwB,MAAO,CAAEa,MAAO,EAAGC,IAAK,OAClFlC,EAAYgB,EAAO,MAAO,CAAEM,MAAO9C,EAAOwB,YAE9CmC,IAAMnB,EAAO,MAAO,CAAEM,MAAO9C,EAAO+B,WACpCC,OAASQ,EAAO,MAAO,CAAEM,MAAO9C,EAAOgC,SACvCC,MAAQO,EAAO,MAAO,CAAEM,MAAO9C,EAAOiC,QAClC2B,OAAS,aACTC,MAAQ,EAERC,SAAW,SAAUC,GACjB,IACIC,KAAQD,EAAM,KAAQ,IACtBZ,KAAOY,EAAM,IACjB,MAAAE,GAAAA,UAHWF,EAAM,MAGNE,MAAAA,OAAKD,EAACC,MAAAA,OAAKd,EAAC,MAE3Be,SAAQC,SAAAA,GAAA,SAAAD,EAAAE,EAAAC,GAAA,OAAAF,EAAAG,MAAAC,KAAAA,WAAA,OAAAL,EAAAM,SAAA,WAAA,OAAAL,EAAAK,YAAAN,EAAAC,CAAG,SAAUM,EAAGC,GACpBA,EAAMA,GAAO,GAEb,OAAOC,OAAOC,QAAQH,GAAGI,OAAO,SAACC,EAAGC,GAAa,IADhCC,EACgCC,EAAAC,EAAAH,EAAA,GAAVI,EAACF,EAAA,GAAEG,EAACH,EAAA,GACjCI,EAFqB,OAAdL,EAESI,IAFsC,WAAzBJ,EAAIM,YAAY/B,KAG/CgC,GAAUb,EAAMA,EAAM,MAAQ,IAAMS,EAOxC,OANIE,EACAP,EAAMH,OAAOa,OAAO,GAAIV,EAAKZ,SAASkB,EAAGG,KAEzC1B,OAASuB,EACTN,EAAIS,GAAUH,GAEXN,GACR,MAEPW,OAAS,SAAUC,EAAGC,GAAMA,EAAGC,QAAQ,SAAUC,GAAKH,EAAEI,YAAYD,MACpEE,OAAS,SAAUL,EAAGC,GAAMA,EAAGC,QAAQ,SAAUC,GAAKH,EAAEM,YAAYH,MACpEI,SAAW,SAAUC,EAAQC,EAASC,EAAMrE,GACxCsE,YAAY1B,OAAOC,QAAQsB,GAAS,EAAGC,EAASpE,GAChDqE,KAEJE,KAAO,SAAUC,EAAGC,GAChB,GAAKpE,EAAL,CACAmE,EAAIA,GAAK,IACTC,EAAIA,GAAK,IACT,IAAIC,EAAU,IAAIC,aACdC,EAAaF,EAAQG,mBACzBD,EAAWrD,KAAO,OAClBqD,EAAWE,UAAUpD,MAAQ+C,EAC7BG,EAAWG,QAAQL,EAAQM,aAE3BJ,EAAWK,QACXC,WAAW,WACPN,EAAWO,QACZX,KAEPY,MAAQ,SAAUC,GACd,IAAK,IAAIC,EAAI,EAAGA,EAAID,EAAGC,IACnBJ,WAAWX,KAAM,IAAMe,EAAI,KAInChB,YAAWiB,SAAAA,GAAA,SAAAjB,EAAAkB,EAAAC,EAAAC,EAAAC,GAAA,OAAAJ,EAAAhD,MAAAC,KAAAA,WAAA,OAAA8B,EAAA7B,SAAA,WAAA,OAAA8C,EAAA9C,YAAA6B,EAAAiB,CAAG,SAAUK,EAAWC,EAAOzB,EAASpE,GAE/CoF,MAAMS,EAAQ,GAEd,IAAI5G,EAAQ2G,EAAUC,GAAO,GACzBC,EAAOF,EAAUC,GAAO,GAE5BzB,EAAQnF,MAAMA,GACdmF,EAAQjF,SAAS,KACjBiF,EAAQ3E,UAAUsC,SAAgB,GAAP+D,IAC3B/H,EAAU,WACN6H,EAAUG,OAASF,EAAQ,EACrBvB,YAAYsB,EAAWC,EAAQ,EAAGzB,EAASpE,GAC3CA,KACA,IAAP8F,GACEE,OAAO,SAAAC,GAA6B,IAA1B9G,EAAQ8G,EAAR9G,SAAUM,EAASwG,EAATxG,UACjB2E,EAAQjF,SAAS,IAAMA,GACvBiF,EAAQ3E,UAAUsC,SAASmE,KAAKC,KAAK1G,EAAY,QAClD,KAAK2G,QAEhB/B,KAAO,SAAUgC,GACbrC,OAAO9F,EAAW,CAACe,EAAOE,EAAUM,EAAWG,EAAKQ,EAAUf,KAC7DgH,GAAMnI,EAAU6F,YAAYzC,IAEjCtB,SAAW,WACPuE,KAAK,IAAK,KACVW,WAAWX,KAAM,KACjBb,OAAOxF,EAAW,CAACe,EAAOE,EAAUM,EAAWG,EAAKQ,EAAUf,IAC9D2E,OAAO9F,EAAW,CAAC0D,IAAK1B,MAAOD,UAEnCqG,SAAW,SAAUC,GAAKtH,EAAMuH,UAAYD,GAC5CE,YAAc,SAAU9C,GAAKxE,EAASgC,aAAa,QAASwC,IAC5D+C,aAAe,SAAU/C,GAAKtE,EAAU8B,aAAa,QAASwC,IAC9DgD,aAAe,SAAUC,GAAKnH,EAAU+G,UAAYI,GAExDhF,IAAI4E,UAAY,YAChBtG,MAAMsG,UAAY,IAClBvG,OAAOuG,UAAY,MACnB5G,EAAI4G,UAAY,IAChBpG,EAASoG,UAAYnF,EAAU,GAE/BnB,MAAM2G,iBAAiB,QAAS,WAC5B7C,OAAO9F,EAAW,CAACe,EAAOE,EAAUM,EAAWG,EAAKQ,EAAUf,IAC9DqE,OAAOxF,EAAW,CAAC0D,IAAK1B,MAAOD,SAC/B4B,QAAO,KAGX5B,OAAO4G,iBAAiB,QAAS,WAC7BnD,OAAOxF,EAAW,CAAC0D,IAAK1B,MAAOD,SAC/B/B,EAAU+F,YAAY3C,KAE1B1B,EAAIiH,iBAAiB,QAAS,WAC1BzG,EAASW,MAAMrC,QAAU,OACzB2B,GAAaA,EACbT,EAAImB,MAAM7B,MAAQmB,EAAYpC,EAAO2B,IAAIV,MAAQ,OACjDkB,EAASoG,UAAYnF,IAAYhB,KAErCT,EAAIiH,iBAAiB,YAAa,WAAezG,EAASW,MAAMrC,QAAU,UAC1EkB,EAAIiH,iBAAiB,aAAc,WAAezG,EAASW,MAAMrC,QAAU,SAE3E4C,EAAUuF,iBAAiB,SAAU,SAAUC,GAC3C,IACIC,EAAMC,EADNC,EAAQ,KAAKA,MAEbA,EAAMlB,SACNgB,EAAOE,EAAM,IACbD,EAAS,IAAIE,YAENL,iBAAiB,OAAQ,WAC5B,IACI,IAAInE,EAAIyE,KAAKC,MAAMJ,EAAOK,QACtBC,EAAUnF,SAASO,GACvBb,OAAS,SAAA0F,GAAK,OAAIrD,SAASoD,EAAS,CAChCrI,MAAOqH,SACPnH,SAAUsH,YACVhH,UAAWkH,cACZ,WAActC,KAAKkD,IAAWvH,WACjC6B,SAGA9D,EAAU,aAAkB,IAAR+D,OACnBkE,OAAO,SAAAwB,GAAkB,IAAfrI,EAAQqI,EAARrI,SACPuH,aAAa,IAAMvH,IACpB,KAAKiH,MAEV,MAAOU,GACLW,QAAQC,IAAIZ,MAEjB,GACHE,EAAOW,WAAWZ,EAAM,SACxBD,EAAExG,OAAOoB,MAAQ,MAGzBxD,EAAU+F,YAAY3C,GACtBhB,EAAO2D,YAAY/F,GAtOvB","file":"index.js","sourceRoot":"../source","sourcesContent":["'use strict';\n/*\nInterval v1.0.19\nfedeghe <fedeghe@gmail.com>\nA really simple function to provide a better timing to replace the setInterval\n*/\nconst interval=function(t,n,i){function e(t,n){this.fn=t,this.interval=n,this.int=0,this.counter=0,this.initDate=+new Date,this.active=!1,this.paused=!1,this._onErr=null,this._onEnd=null,this._onPause=null,this._onResume=null,this._pause=null,this._resume=null}var s=function(t){return\"function\"==typeof t};return e.prototype.onEnd=function(t){return s(t)&&(this._onEnd=t),this},e.prototype.onErr=function(t){return s(t)&&(this._onErr=t),this},e.prototype.onPause=function(t){return s(t)&&(this._onPause=t),this},e.prototype.onResume=function(t){return s(t)&&(this._onResume=t),this},e.prototype.end=function(){return this.active=!1,this._onEnd&&this._onEnd(this),this},e.prototype.endsIn=function(t){var n=this;return setTimeout(function(){n.end()},t),this},e.prototype.pause=function(){return this.paused=!0,this._onPause&&this._onPause(this),this},e.prototype.resume=function(){return this.paused=!1,this._onResume&&this._onResume(this),this},e.prototype.runIfActive=function(){return this.active&&this.run(),this},e.prototype.run=function(t){this.active=!0;var n=this;return this.int=this.interval+(this.initDate+this.counter++*this.interval-new Date),t&&t(n),setTimeout(function(){if(!n.paused&&n.active)try{n.fn(n.counter-1)}catch(t){n._onErr&&n._onErr(t,n),n.active=!1}n.runIfActive()},n.int),this},function(t,n){return new e(t,n)}}();\"object\"==typeof exports&&(module.exports=interval);","'use strict';\n/*\nCountdown v0.0.11\nfedeghe <fedeghe@gmail.com>\n$description$\n*/\nconst interval=require(\"@fedeghe/interval\"),countdown=function(){function t(t,i){this.fn=t,this.horizont=i,this.baseHorizont=i,this.to=null,this.active=!1,this.paused=!1,this._onErr=null,this._onEnd=null,this._onTick=null,this.tick=null,this.ticker=null,this.startPause=0,this.pauseSpan=0,this.updates=0,this._onUpdate=null,this._update=null,this._onPause=null,this._pause=null,this._onResume=null,this._resume=null}var i=function(t){return\"function\"==typeof t};return t.prototype.end=function(){return this.active=!1,this._onEnd&&this._onEnd(),this.ticker&&this.ticker.end(),clearTimeout(this.to),this},t.prototype.onEnd=function(t){return i(t)&&(this._onEnd=t),this},t.prototype.onErr=function(t){return i(t)&&(this._onErr=t),this},t.prototype.onPause=function(t){return i(t)&&(this._onPause=t),this},t.prototype.onResume=function(t){return i(t)&&(this._onResume=t),this},t.prototype.onUpdate=function(t){return i(t)&&(this._onUpdate=t),this},t.prototype.pause=function(){return this.paused=!0,this._onPause&&this._onPause(this),this.to&&clearTimeout(this.to),this.startPause=+new Date,this.ticker&&this.ticker.pause(),this},t.prototype.resume=function(){return this.paused=!1,this._onResume&&this._onResume(this),this.pauseSpan=+new Date-this.startPause,this.horizont-=this.pauseSpan,this.run(!1,!0),this.ticker&&this.ticker.resume(),this},t.prototype.getStatus=function(){var t=+new Date,i=t-this.startTime-this.pauseSpan;return{elapsed:i,remaining:this.horizont-i+this.updates,progress:100*i/this.horizont}},t.prototype.run=function(t,i){var e=this;return this.startTime=this.startTime||+new Date,this.active=!0,t&&t(e),this.to=setTimeout(function(){try{e.fn(),e.end(),e.ticker&&e.ticker.end()}catch(t){e._onErr&&e._onErr(t,e),e.active=!1}},this.horizont),!i&&this.ticker&&this.ticker.run(),this},t.prototype.update=function(t){var i=parseInt(t);this.updates=i;var e=+new Date,s=e-this.startTime-this.pauseSpan,n=this.baseHorizont-s,o=i+n;return this.baseHorizont=s+o,o&&o>0&&(this._onUpdate&&this._onUpdate(this),this.horizont=o,this.to&&clearTimeout(this.to),this.run()),this},t.prototype.onTick=function(t,i){var e=this;return this.ticker=interval(function(i){var s=+new Date,n=s-e.startTime-e.pauseSpan,o=e.baseHorizont-n,r=parseFloat((100*n/e.baseHorizont).toFixed(3),10);t({cycle:i,elapsed:n,remaining:o,progress:r})},i),this},function(i,e){return new t(i,e)}}();\"object\"==typeof exports&&(module.exports=countdown);","const countdown = require('@fedeghe/countdown');\n\n(function () {\n    var styles = {\n        container: {\n            fontFamily: 'verdana',\n            padding: '5px',\n            backgroundColor: 'white',\n            paddingTop: '10px',\n            paddingRight: '20px',\n            borderRadius: '5px',\n            opacity: '0.7',\n            display: 'flex',\n            justifyContent: 'center',\n            flexDirection: 'column',\n            alignItems: 'center'\n        },\n        plus: {\n            width: '20px',\n            height: '20px',\n        },\n        label: { color: 'red' },\n        progress: { accentColor: 'green', height: '20px' },\n        progressG: {\n            accentColor: 'green',\n            height: '20px',\n            width: '100%',\n            position: 'absolute',\n            bottom: 0,\n            left: 0\n        },\n        remaining: {\n            fontSize: '1em',\n            fontWeight: 'bold'\n        },\n        aux: {\n            position: 'absolute',\n            right: 0,\n            top: 0,\n            height: '20px',\n            width: '20px',\n            cursor: 'pointer',\n            color: 'black'\n        },\n\n        complete: {\n            fontWeight: 'bold',\n        },\n        newrun: {\n            fontSize: '0.8em',\n            color: 'green',\n            cursor: 'pointer'\n        },\n        rerun: {\n            fontSize: '1.4em',\n            lineHeight: '0.8em',\n            color: 'green',\n            cursor: 'pointer'\n        },\n        auxTitle: {\n            display: 'none',\n            position: 'absolute',\n            right: '30px',\n            top: '3px',\n            fontSize: '0.8em',\n        }\n    },\n        auxActive = true,\n        target = document.body,\n        create = function (tag, { attrs = null, style = null }) {\n            var t = document.createElement(tag);\n            if (attrs) for (a in attrs) t.setAttribute(a, attrs[a]);\n            if (style) for (s in style) t.style[s] = style[s];\n            return t;\n        },\n        auxTitles = ['turn beeps on', 'turn beeps off'],\n        aux = create('div', { style: styles.aux }),\n        auxTitle = create('div', { style: styles.auxTitle }),\n        container = create('div', { style: styles.container }),\n        fileInput = create('input', { attrs: { type: 'file', name: 'file', accept: 'application/json' } }),\n        label = create('div', { style: styles.label }),\n        progress = create('progress', { style: styles.progress, attrs: { value: 0, max: 100 } }),\n        progressG = create('progress', { style: styles.progressG, attrs: { value: 0, max: 100 } }),\n        remaining = create('div', { style: styles.remaining });\n\n    end = create('div', { style: styles.complete });\n    newrun = create('div', { style: styles.newrun });\n    rerun = create('div', { style: styles.rerun }),\n        memRun = function () { },\n        total = 0,\n\n        sec2time = function (sec) {\n            var h = ~~(sec / 3600),\n                m = ~~((sec % 3600) / 60),\n                s = ~~(sec % 60);\n            return `${h}h ${m}m ${s}s`;\n        },\n        makeFlat = function (j, key) {\n            key = key || '';\n            const isObject = obj => obj != null && obj.constructor.name === \"Object\";\n            return Object.entries(j).reduce((acc, [k, v]) => {\n                const deep = isObject(v),\n                    innerK = (key ? key + ' - ' : '') + k;\n                if (deep) {\n                    acc = Object.assign({}, acc, makeFlat(v, innerK));\n                } else {\n                    total += v\n                    acc[innerK] = v;\n                }\n                return acc;\n            }, {});\n        },\n        remove = function (p, cs) { cs.forEach(function (c) { p.removeChild(c) }) },\n        append = function (p, cs) { cs.forEach(function (c) { p.appendChild(c) }) },\n        schedule = function (config, setters, show, complete) {\n            runSchedule(Object.entries(config), 0, setters, complete);\n            show();\n        },\n        beep = function (d, f) {\n            if (!auxActive) return;\n            d = d || 100;\n            f = f || 400;\n            var context = new AudioContext(),\n                oscillator = context.createOscillator();\n            oscillator.type = \"sine\";\n            oscillator.frequency.value = f;\n            oscillator.connect(context.destination);\n\n            oscillator.start();\n            setTimeout(function () {\n                oscillator.stop();\n            }, d);\n        },\n        beepn = function (n) {\n            for (var i = 0; i < n; i++) {\n                setTimeout(beep, 100 * i + 10);\n            }\n        },\n\n        runSchedule = function (schedules, index, setters, complete) {\n            // setTimeout(beep, 100);\n            beepn(index + 1);\n\n            var label = schedules[index][0],\n                time = schedules[index][1];\n\n            setters.label(label);\n            setters.progress(1000);\n            setters.remaining(sec2time(time * 60));\n            countdown(() => {\n                schedules.length > index + 1\n                    ? runSchedule(schedules, index + 1, setters, complete)\n                    : complete()\n            }, time * 60e3)\n                .onTick(({ progress, remaining }) => {\n                    setters.progress(100 - progress)\n                    setters.remaining(sec2time(Math.ceil(remaining / 1000)))\n                }, 1e3).run()\n        },\n        show = function (fi) {\n            append(container, [label, progress, remaining, aux, auxTitle, progressG]);\n            !fi && container.removeChild(fileInput);\n        },\n        complete = function () {\n            beep(100, 800);\n            setTimeout(beep, 100)\n            remove(container, [label, progress, remaining, aux, auxTitle, progressG]);\n            append(container, [end, rerun, newrun]);\n        },\n        setLabel = function (l) { label.innerHTML = l; },\n        setProgress = function (p) { progress.setAttribute('value', p) },\n        setProgressG = function (p) { progressG.setAttribute('value', p) },\n        setRemaining = function (r) { remaining.innerHTML = r };\n\n    end.innerHTML = 'TIME OVER';\n    rerun.innerHTML = '↺';\n    newrun.innerHTML = 'new';\n    aux.innerHTML = '♪';\n    auxTitle.innerHTML = auxTitles[1];\n\n    rerun.addEventListener('click', function _() {\n        append(container, [label, progress, remaining, aux, auxTitle, progressG]);\n        remove(container, [end, rerun, newrun]);\n        memRun(true);\n    });\n\n    newrun.addEventListener('click', function _() {\n        remove(container, [end, rerun, newrun]);\n        container.appendChild(fileInput);\n    });\n    aux.addEventListener('click', function _() {\n        auxTitle.style.display = 'none'\n        auxActive = !auxActive;\n        aux.style.color = auxActive ? styles.aux.color : '#aaa';\n        auxTitle.innerHTML = auxTitles[~~auxActive];\n    });\n    aux.addEventListener('mouseover', function _() { auxTitle.style.display = 'block'; });\n    aux.addEventListener('mouseleave', function _() { auxTitle.style.display = 'none'; });\n\n    fileInput.addEventListener('change', function (e) {\n        var files = this.files,\n            file, reader;\n        if (files.length) {\n            file = files[0];\n            reader = new FileReader();\n\n            reader.addEventListener(\"load\", function () {\n                try {\n                    var j = JSON.parse(reader.result),\n                        flatted = makeFlat(j);\n                    memRun = again => schedule(flatted, {\n                        label: setLabel,\n                        progress: setProgress,\n                        remaining: setRemaining\n                    }, function () { show(again); }, complete);\n                    memRun();\n\n                    //glob\n                    countdown(() => {}, total * 60e3)\n                    .onTick(({ progress }) => {\n                        setProgressG(100 - progress)\n                    }, 1e3).run()\n\n                } catch (e) {\n                    console.log(e)\n                }\n            }, false);\n            reader.readAsText(file, \"UTF-8\");\n            e.target.value = '';\n        }\n    });\n    container.appendChild(fileInput);\n    target.appendChild(container);\n\n})();\n"]}